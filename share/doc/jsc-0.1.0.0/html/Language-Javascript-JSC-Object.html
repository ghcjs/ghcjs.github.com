<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Javascript.JSC.Object</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Javascript-JSC-Object.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">jsc-0.1.0.0: High level interface for webkit-javascriptcore</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Language.Javascript.JSC.Object</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Property lookup
</a></li><li><a href="#g:2">Setting the value of a property
</a></li><li><a href="#g:3">Calling JavaSctipt
</a></li><li><a href="#g:4">Calling Haskell From JavaScript
</a><ul><li><a href="#g:5">Object Constructors
</a></li></ul></li><li><a href="#g:6">Arrays
</a></li><li><a href="#g:7">Global Object
</a></li><li><a href="#g:8">Enumerating Properties
</a></li><li><a href="#g:9">Low level
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Interface to JavaScript object
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:JSObjectRef">JSObjectRef</a> = Ptr <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:OpaqueJSValue">OpaqueJSValue</a></li><li class="src short"><span class="keyword">class</span>  <a href="#t:MakeObjectRef">MakeObjectRef</a> this  <span class="keyword">where</span><ul class="subs"><li><a href="#v:makeObjectRef">makeObjectRef</a> :: this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></li></ul></li><li class="src short"><a href="#v:-33-">(!)</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this, <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name) =&gt; this -&gt; name -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></li><li class="src short"><a href="#v:-33--33-">(!!)</a> :: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this =&gt; this -&gt; CUInt -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></li><li class="src short"><a href="#v:js">js</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> s, <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name) =&gt; name -&gt; <a href="/home/hamish/.cabal/share/doc/lens-3.8.5/html/Control-Lens-Type.html#t:IndexPreservingGetter">IndexPreservingGetter</a> s (<a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a>)</li><li class="src short"><a href="#v:jsg">jsg</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> a =&gt; a -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></li><li class="src short"><a href="#v:-60--35-">(&lt;#)</a> :: (<a href="Language-Javascript-JSC-Classes.html#t:MakePropRef">MakePropRef</a> prop, <a href="Language-Javascript-JSC-Classes.html#t:MakeValueRef">MakeValueRef</a> val) =&gt; prop -&gt; val -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></li><li class="src short"><a href="#v:-35-">(#)</a> :: (<a href="Language-Javascript-JSC-Classes.html#t:MakePropRef">MakePropRef</a> prop, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; prop -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></li><li class="src short"><a href="#v:new">new</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> constructor, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; constructor -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></li><li class="src short"><a href="#v:call">call</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> function, <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; function -&gt; this -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></li><li class="src short"><a href="#v:function">function</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name =&gt; name -&gt; <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a> -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></li><li class="src short"><a href="#v:fun">fun</a> :: <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a> -&gt; <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:JSCallAsFunction">JSCallAsFunction</a> = <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a> -&gt; <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a> -&gt; [<a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a>] -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSUndefined">JSUndefined</a></li><li class="src short"><a href="#v:array">array</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></li><li class="src short"><a href="#v:global">global</a> :: <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></li><li class="src short"><a href="#v:copyPropertyNames">copyPropertyNames</a> :: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this =&gt; this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSPropertyNameArrayRef">JSPropertyNameArrayRef</a></li><li class="src short"><a href="#v:propertyNames">propertyNames</a> :: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this =&gt; this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> [<a href="Language-Javascript-JSC-String.html#t:JSStringRef">JSStringRef</a>]</li><li class="src short"><a href="#v:objCallAsFunction">objCallAsFunction</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; args -&gt; <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSValueRefRef">JSValueRefRef</a> -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></li><li class="src short"><a href="#v:objCallAsConstructor">objCallAsConstructor</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; args -&gt; <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSValueRefRef">JSValueRefRef</a> -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:JSObjectRef" class="def">JSObjectRef</a> = Ptr <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:OpaqueJSValue">OpaqueJSValue</a></p></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:MakeObjectRef" class="def">MakeObjectRef</a> this  <span class="keyword">where</span></p><div class="doc"><p>Anything that can be used to make a JavaScript object reference
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:makeObjectRef" class="def">makeObjectRef</a> :: this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></p></div><div class="subs instances"><p id="control.i:MakeObjectRef" class="caption collapser" onclick="toggleSection('i:MakeObjectRef')">Instances</p><div id="section.i:MakeObjectRef" class="show"><table><tr><td class="src"><a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></td><td class="doc"><p>If we already have a JSObjectRef we are fine
</p></td></tr><tr><td class="src"><a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></td><td class="doc"><p>We can use a property as an object.
</p></td></tr><tr><td class="src"><a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> <a href="Language-Javascript-JSC-Value.html#t:JSNull">JSNull</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> v =&gt; <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> (<a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> v)</td><td class="doc"><p>JSObjectRef can be made by evaluating a function in <code><a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a></code> as long
   as it returns something we can make into a JSObjectRef.
</p></td></tr></table></div></div></div><h1 id="g:1">Property lookup
</h1><div class="top"><p class="src"><a name="v:-33-" class="def">(!)</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this, <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; this</td><td class="doc"><p>Object to look on
</p></td></tr><tr><td class="src">-&gt; name</td><td class="doc"><p>Name of the property to find
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></td><td class="doc"><p>Property reference
</p></td></tr></table></div><div class="doc"><p>Lookup a property based on its name.  This function just constructs a JSPropRef
   the lookup is delayed until we use the JSPropRef.  This makes it a bit lazy compared
   to JavaScript's <code>.</code> operator.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;'Hello World'.length&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ val &quot;Hello World&quot; ! &quot;length&quot;
</code></strong>11
</pre></div></div><div class="top"><p class="src"><a name="v:-33--33-" class="def">(!!)</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; this</td><td class="doc"><p>Object to look on
</p></td></tr><tr><td class="src">-&gt; CUInt</td><td class="doc"><p>Index of the property to lookup
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></td><td class="doc"><p>Property reference
</p></td></tr></table></div><div class="doc"><p>Lookup a property based on its index.  This function just constructs a JSPropRef
   the lookup is delayed until we use the JSPropRef.  This makes it a bit lazy compared
   to JavaScript's <code>[]</code> operator.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;'Hello World'[6]&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ val &quot;Hello World&quot; !! 6
</code></strong>W
</pre></div></div><div class="top"><p class="src"><a name="v:js" class="def">js</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> s, <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; name</td><td class="doc"><p>Name of the property to find
</p></td></tr><tr><td class="src">-&gt; <a href="/home/hamish/.cabal/share/doc/lens-3.8.5/html/Control-Lens-Type.html#t:IndexPreservingGetter">IndexPreservingGetter</a> s (<a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Makes a getter for a particular property name.
</p><pre> js name = to (!name)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;'Hello World'.length&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ val &quot;Hello World&quot; ^. js &quot;length&quot;
</code></strong>11
</pre></div></div><div class="top"><p class="src"><a name="v:jsg" class="def">jsg</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> a =&gt; a -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></p><div class="doc"><p>Handy way to get and hold onto a reference top level javascript
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;w = console; w.log('Hello World')&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ do w &lt;- jsg &quot;console&quot;; w ^. js &quot;log&quot; # [&quot;Hello World&quot;]
</code></strong>11
</pre></div></div><h1 id="g:2">Setting the value of a property
</h1><div class="top"><p class="src"><a name="v:-60--35-" class="def">(&lt;#)</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Language-Javascript-JSC-Classes.html#t:MakePropRef">MakePropRef</a> prop, <a href="Language-Javascript-JSC-Classes.html#t:MakeValueRef">MakeValueRef</a> val)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; prop</td><td class="doc"><p>Property to set
</p></td></tr><tr><td class="src">-&gt; val</td><td class="doc"><p>Value to set it to
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Properties.html#t:JSPropRef">JSPropRef</a></td><td class="doc"><p>Reference to the property set
</p></td></tr></table></div><div class="doc"><p>Call a JavaScript function
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;var j = {}; j.x = 1; j.x&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ do {j &lt;- eval &quot;({})&quot;; j!&quot;x&quot; &lt;# 1; j!&quot;x&quot;}
</code></strong>1
</pre></div></div><h1 id="g:3">Calling JavaSctipt
</h1><div class="top"><p class="src"><a name="v:-35-" class="def">(#)</a> :: (<a href="Language-Javascript-JSC-Classes.html#t:MakePropRef">MakePropRef</a> prop, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; prop -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></p><div class="doc"><p>Call a JavaScript function
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;'Hello World'.indexOf('World')&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ val &quot;Hello World&quot; ! &quot;indexOf&quot; # [&quot;World&quot;]
</code></strong>6
</pre></div></div><div class="top"><p class="src"><a name="v:new" class="def">new</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> constructor, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; constructor -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></p><div class="doc"><p>Use this to create a new JavaScript object
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ new &quot;Date&quot; (2013, 1, 1)
</code></strong>Fri Feb 01 2013 00:00:00 GMT+1300 (NZDT)
</pre></div></div><div class="top"><p class="src"><a name="v:call" class="def">call</a> :: (<a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> function, <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this, <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args) =&gt; function -&gt; this -&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></p><div class="doc"><p>Call function with a given <code>this</code>.  In most cases you should use '#'.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;(function(){return this;}).apply('Hello', [])&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ do { test &lt;- eval &quot;(function(){return this;})&quot;; call test (val &quot;Hello&quot;) () }
</code></strong>Hello
</pre></div></div><h1 id="g:4">Calling Haskell From JavaScript
</h1><div class="top"><p class="src"><a name="v:function" class="def">function</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Language-Javascript-JSC-Classes.html#t:MakeStringRef">MakeStringRef</a> name</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; name</td><td class="doc"><p>Name of the function
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a></td><td class="doc"><p>Haskell function to call
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></td><td class="doc"><p>Returns a JavaScript function object that will
   call the Haskell one when it is called
</p></td></tr></table></div></div><div class="top"><p class="src"><a name="v:fun" class="def">fun</a> :: <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a> -&gt; <a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a></p><div class="doc"><p>Short hand <code>::JSCallAsFunction</code> so a haskell function can be passed to
   a to a JavaScipt one.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;(function(f) {f('Hello');})(function (a) {console.log(a)})&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ call (eval &quot;(function(f) {f('Hello');})&quot;) global [fun $ \ _ _ args -&gt; valToText (head args) &gt;&gt;= (liftIO . putStrLn . T.unpack) ]
</code></strong>Hello
undefined
</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:JSCallAsFunction" class="def">JSCallAsFunction</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&nbsp;= <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></td><td class="doc"><p>Function object
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></td><td class="doc"><p>this
</p></td></tr><tr><td class="src">-&gt; [<a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a>]</td><td class="doc"><p>Function arguments
</p></td></tr><tr><td class="src">-&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSUndefined">JSUndefined</a></td><td class="doc"><p>Only <code><a href="Language-Javascript-JSC-Value.html#t:JSUndefined">JSUndefined</a></code> can be returned because
   the function may need to be executed in a
   different thread.  If you need to get a
   value out pass in a continuation function
   as an argument and invoke it from haskell.
</p></td></tr></table></div><div class="doc"><p>Type used for Haskell functions called from JavaScript.
</p></div></div><h2 id="g:5">Object Constructors
</h2><div class="doc"><p>There is no good way to support calling haskell code as a JavaScript
   constructor for the same reason that the return type of
   <code><a href="Language-Javascript-JSC-Object.html#t:JSCallAsFunction">JSCallAsFunction</a></code> is <code><a href="Language-Javascript-JSC-Value.html#t:JSUndefined">JSUndefined</a></code>.
</p><p>Instead of writing a constructor in Haskell write a function
   that takes a continuation.  Create the JavaScript object
   and pass it to the continuation.
</p></div><h1 id="g:6">Arrays
</h1><div class="top"><p class="src"><a name="v:array" class="def">array</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; args -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></p><div class="doc"><p>Make an JavaScript array from a list of values
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;['Hello', 'World'][1]&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ array [&quot;Hello&quot;, &quot;World&quot;] !! 1
</code></strong>World
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ eval &quot;['Hello', null, undefined, true, 1]&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>testJSC $ array (&quot;Hello&quot;, JSNull, (), True, 1.0::Double)
</code></strong>Hello,,,true,1
</pre></div></div><h1 id="g:7">Global Object
</h1><div class="top"><p class="src"><a name="v:global" class="def">global</a> :: <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a></p><div class="doc"><p>JavaScript's global object
</p></div></div><h1 id="g:8">Enumerating Properties
</h1><div class="top"><p class="src"><a name="v:copyPropertyNames" class="def">copyPropertyNames</a> :: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this =&gt; this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSPropertyNameArrayRef">JSPropertyNameArrayRef</a></p><div class="doc"><p>Get an array containing the property names present on a given object
</p></div></div><div class="top"><p class="src"><a name="v:propertyNames" class="def">propertyNames</a> :: <a href="Language-Javascript-JSC-Object.html#t:MakeObjectRef">MakeObjectRef</a> this =&gt; this -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> [<a href="Language-Javascript-JSC-String.html#t:JSStringRef">JSStringRef</a>]</p><div class="doc"><p>Get a list containing the property names present on a given object
</p></div></div><h1 id="g:9">Low level
</h1><div class="top"><p class="src"><a name="v:objCallAsFunction" class="def">objCallAsFunction</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; args -&gt; <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSValueRefRef">JSValueRefRef</a> -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></p><div class="doc"><p>Call a JavaScript object as function.  Consider using '#'.
</p></div></div><div class="top"><p class="src"><a name="v:objCallAsConstructor" class="def">objCallAsConstructor</a> :: <a href="Language-Javascript-JSC-Classes.html#t:MakeArgRefs">MakeArgRefs</a> args =&gt; <a href="Language-Javascript-JSC-Object.html#t:JSObjectRef">JSObjectRef</a> -&gt; args -&gt; <a href="/home/hamish/.cabal/share/doc/webkit-javascriptcore-0.0.0.999/html/Graphics-UI-Gtk-WebKit-JavaScriptCore-JSBase.html#t:JSValueRefRef">JSValueRefRef</a> -&gt; <a href="Language-Javascript-JSC-Monad.html#t:JSC">JSC</a> <a href="Language-Javascript-JSC-Value.html#t:JSValueRef">JSValueRef</a></p><div class="doc"><p>Call a JavaScript object as a constructor. Consider using <code><a href="Language-Javascript-JSC-Object.html#v:new">new</a></code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.1</p></div></body></html>